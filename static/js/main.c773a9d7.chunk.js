(window["webpackJsonpsunscrapers-stock-tracker"]=window["webpackJsonpsunscrapers-stock-tracker"]||[]).push([[0],{128:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"register",(function(){return p})),n.d(a,"unregister",(function(){return d}));var r=n(0),o=n.n(r),c=n(18),i=n.n(c),s=(n(63),n(57)),l=n(8),u=n(54),m=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");m?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):h(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):h(t,e)}))}}function h(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function d(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}var b,f=function(){return JSON.parse(localStorage.getItem("companies")||"[]")},v=function(e){return localStorage.setItem("companies",JSON.stringify(e))},g=a,y=Object(u.a)((function(){var e=Object(r.useState)(f()),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(r.useCallback)((function(e){return a((function(t){return t.some((function(t){return e.symbol===t.symbol}))?t:[].concat(Object(s.a)(t),[e])}))}),[a]),c=Object(r.useCallback)((function(e){return a((function(t){return t.filter((function(t){return e!==t.symbol}))}))}),[a]);return Object(r.useEffect)((function(){return v(n)}),[n]),{companies:n,addCompany:o,removeCompanyBySymbol:c}})),E=n(9),O=n(22),k=n.n(O),w=n(30),j=n.n(w),C=n(55),S=n(56),N=n.n(S),P=n(12),x=n.n(P),T=n(13),L={companies:"/companies",addCompany:"/addCompany"},A="Companies",R="Track new company",W=(b={},Object(T.a)(b,L.companies,(function(){return o.a.createElement(ae,null)})),Object(T.a)(b,L.addCompany,(function(){return o.a.createElement(K,null)})),b),B=L,D=n(19),U=n.n(D),I=n(20),z=function e(t){Object(I.a)(this,e),this.change=void 0,this.changePercent=void 0,this.high=void 0,this.latestTradingDay=void 0,this.low=void 0,this.open=void 0,this.previousClose=void 0,this.price=void 0,this.symbol=void 0,this.volume=void 0;var n=t["Global Quote"];this.change=n["09. change"],this.changePercent=n["10. change percent"],this.high=n["03. high"],this.latestTradingDay=n["07. latest trading day"],this.low=n["04. low"],this.open=n["02. open"],this.previousClose=n["08. previous close"],this.price=n["05. price"],this.symbol=n["01. symbol"],this.volume=n["06. volume"]},F=function e(t){Object(I.a)(this,e),this.currency=void 0,this.marketClose=void 0,this.marketOpen=void 0,this.matchScore=void 0,this.name=void 0,this.region=void 0,this.symbol=void 0,this.timezone=void 0,this.type=void 0,this.currency=t["8. currency"],this.marketClose=t["6. marketClose"],this.marketOpen=t["5. marketOpen"],this.matchScore=t["9. matchScore"],this.name=t["2. name"],this.region=t["4. region"],this.symbol=t["1. symbol"],this.timezone=t["7. timezone"],this.type=t["3. type"]},J=U.a.create({baseURL:"https://www.alphavantage.co/query",params:{apikey:"notReallyUniqueApiKey"}}),q=function(e){return J.get("",{params:{function:"SYMBOL_SEARCH",keywords:e}}).then((function(e){var t=Object(l.a)(e.data.bestMatches,1)[0];return t?new F(t):void 0}))},G=function(e){return J.get("",{params:{function:"GLOBAL_QUOTE",symbol:e}}).then((function(e){return new z(e.data)}))},M=U.a.create({baseURL:"https://autocomplete.clearbit.com/v1/"}),Q=["Inc.","L.P."],_=function(e){return Q.reduce((function(e,t){return e.split(t).join("").trim()}),e)},H=function(e){return M.get("companies/suggest",{params:{query:_(e)}}).then((function(e){return Object(l.a)(e.data,1)[0]}))},K=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(l.a)(c,2),s=i[0],u=i[1],m=y().addCompany,p=Object(r.useCallback)((function(e){return a(e.target.value)}),[a]),h=Object(r.useCallback)(function(){var e=Object(C.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,q(n);case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return",u(!0));case 6:m(a),Object(E.navigate)(B.companies);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,m,u]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,R),o.a.createElement(x.a,{onSubmit:h},o.a.createElement(x.a.Group,null,o.a.createElement(x.a.Label,null,"Company symbol"),o.a.createElement(x.a.Control,{isInvalid:s,onChange:p,placeholder:"Company symbol",value:n}),o.a.createElement(x.a.Text,{className:s?"text-danger":"text-muted"},s?"No stock with provided symbol found":"Provide the stock exchange symbol of a company you want to track")),o.a.createElement(N.a,{variant:"primary",type:"submit"},"Track")))},Y=n(32),$=n.n(Y),V=n(4),X=n.n(V),Z=n(31),ee=n.n(Z);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ne=function(e){var t=e.company,n=Object(r.useState)(void 0),a=Object(l.a)(n,2),c=a[0],i=a[1];Object(r.useEffect)((function(){Promise.all([G(t.symbol),H(t.name)]).then((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(n,!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{},a))}))}),[t,i]);var s=!1,u=!1;if(c){var m=Number(c.change);s=m<0,u=m>0}return o.a.createElement(ee.a,null,o.a.createElement("img",{width:64,height:64,className:"mr-3",src:c?c.logo:void 0,alt:"Company logo"}),o.a.createElement(ee.a.Body,null,o.a.createElement("h5",{className:"d-inline"},o.a.createElement("b",null,t.name)),o.a.createElement("span",{className:"ml-3"},t.symbol),c&&o.a.createElement("span",{className:"ml-3"},c.domain),o.a.createElement("br",null),o.a.createElement("span",null,t.region),o.a.createElement("span",{className:"ml-3"},"".concat(t.marketOpen," - ").concat(t.marketClose," "),t.timezone),o.a.createElement("br",null),c&&o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,o.a.createElement("b",null,"".concat(Math.round(100*Number(c.price))/100," ")),t.currency),o.a.createElement("span",{className:X()(["ml-3",s&&"text-danger",u&&"text-success"])},"".concat(c.change," (").concat(c.changePercent,")")),s&&o.a.createElement("span",{className:"text-danger"},"\u2193"),u&&o.a.createElement("span",{className:"text-success"},"\u2191"),o.a.createElement("span",{className:"ml-3"},"Closed: ".concat(c.latestTradingDay)))))},ae=function(){var e=y(),t=e.companies,n=e.removeCompanyBySymbol;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,A),t.length?o.a.createElement($.a,null,t.map((function(e){return o.a.createElement($.a.Item,{key:e.symbol},o.a.createElement("button",{className:"bg-transparent border-0 cursor-pointer float-right text-danger",onClick:function(){return n(e.symbol)}},"\u2716"),o.a.createElement(ne,{company:e}))}))):o.a.createElement("span",null,"There are no companies yet. ",o.a.createElement(E.A,{href:B.addCompany},"Track your first company.")," "))},re=n(23),oe=n.n(re),ce=n(14),ie=n.n(ce),se=function(){var e=Object(r.useCallback)((function(){return Object(E.navigate)(B.addCompany)}),[]),t=Object(r.useCallback)((function(){return Object(E.navigate)(B.companies)}),[]);return o.a.createElement(ie.a,{bg:"light",expand:"lg"},o.a.createElement(k.a,null,o.a.createElement(ie.a.Brand,{href:"#home"},"Stock Tracker"),o.a.createElement(ie.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(ie.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(oe.a,{className:"mr-auto"},o.a.createElement(oe.a.Link,{onClick:e},R),o.a.createElement(oe.a.Link,{onClick:t},A)))))},le=function(){Object(E.useRedirect)("/",B.companies);var e=Object(E.useRoutes)(W);return o.a.createElement(o.a.Fragment,null,o.a.createElement(se,null),o.a.createElement("br",null),o.a.createElement(k.a,null,e))};n(128);i.a.render(o.a.createElement(y.Provider,null,o.a.createElement(le,null)),document.getElementById("root")),g.register()},58:function(e,t,n){e.exports=n(129)}},[[58,1,2]]]);
//# sourceMappingURL=main.c773a9d7.chunk.js.map